<!DOCTYPE html>
<html lang="en">
<head>
    <title>CollectorZone</title>
    <link rel="stylesheet" href="/styles/global.css">
    <script src="/scripts/websocket.js" type="module"></script>
</head>
<body>
<dialog id="ws-modal">
    <p id="ws-message"></p>
    <button id="ws-button">Refresh</button>
</dialog>

<h1>Welcome to CollectorZone, {{name}}!</h1>

<hr>

<h2>Add Offer to Item</h2>
<form action="/offers-web" method="POST" class="glass-card">
    <div>
        <label for="item-id">Item:</label>
        <select id="item-id" name="item-id" required>
            <option></option>
            {{# items}}
                <option value="{{id}}">{{name}}</option>
            {{/ items}}
        </select>
    </div>
    <div>
        <label for="name">name:</label>
        <input type="text" id="name" name="name" placeholder="Juan Lucio" required>
    </div>
    <div>
        <label for="email">email:</label>
        <input type="email" id="email" name="email" placeholder="juanLucio@gmail.com" required>
    </div>
    <div>
        <label for="itemPrice">Price:</label>
        <input type="number" id="itemPrice" name="itemPrice" step="0.01" placeholder="75.50" required>
    </div>
    <button type="submit">Add Item</button>
</form>

<hr>

<h2>Current Collection</h2>

<div class="collection-grid">
    {{#items}}
        <div class="item-card">
            <h3>{{name}} </h3>
            <p>{{description}}</p>
            <p><strong>Price: ${{price}}</strong></p>
            <p>Current Offer: ${{lastOffer}}</p>
        </div>
    {{/items}}
</div>

{{^items}}
    <div class="empty-state">
        <p>No items in the collection yet. Add one above!</p>
    </div>
{{/items}}
</body>
</html>